{"version":3,"sources":["../../src/pages/address/address.module.ts","../../src/pages/address/address.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddressPage } from './address';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    AddressPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddressPage),\n    TranslateModule.forChild()\n  ],\n  exports:[\n    AddressPage\n  ]\n})\nexport class AddressPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/address/address.module.ts","import { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  AlertController,\n  LoadingController,\n  ToastController\n} from \"ionic-angular\";\nimport { HkApiproviderProvider } from \"../../providers/hk-apiprovider/hk-apiprovider\";\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { NativeGeocoder, NativeGeocoderReverseResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder';\n\n@IonicPage()\n@Component({\n  selector: \"page-address\",\n  templateUrl: \"address.html\"\n})\nexport class AddressPage {\n\n  geoLatitude: number;\n  geoLongitude: number;\n  geoAccuracy: number;\n  geoAddress: string;\n\n  //Geocoder configuration\n  geoencoderOptions: NativeGeocoderOptions = {\n    useLocale: true,\n    maxResults: 5\n  };\n\n  public userDetails: any;\n\n  userData = {\n    fname: \"\",\n    city: \"\",\n    area: \"\",\n    address: \"\",\n    mobile: \"\",\n    dtype: \"\",\n    lat: \"\",\n    lng: \"\"\n  };\n  year: number;\n\n  constructor(\n    private nativeGeocoder: NativeGeocoder,\n    private geolocation: Geolocation,\n    public alertCtrl: AlertController,\n    public navCtrl: NavController,\n    public auth: HkApiproviderProvider,\n    public toastCtrl: ToastController,\n    public navParams: NavParams,\n    public loadingCtrl: LoadingController\n  ) {\n   const date = new Date();\n   this.year = date.getFullYear();\n    if (localStorage.getItem('userData')) {\n      const data = JSON.parse(localStorage.getItem('userData'));\n      this.userDetails = data.userData;\n\n\n      this.userData.mobile = this.userDetails.mobile;\n      this.userData.fname = this.userDetails.fname;\n      this.userData.address = this.userDetails.address;\n     // this.getgeolocation(); // comment for the web\n    }\n\n  }\n\n\n  onSubmit() {\n    if (this.userData.mobile != \"\" && this.userData.fname != \"\" && this.userData.address != \"\" && this.userData.area != \"\" && this.userData.city != \"\" && this.userData.dtype != \"\") {\n      this.navCtrl.push('PaymenttypePage', {\n        fullname: this.userData.fname,\n        mobile: this.userData.mobile,\n        area: this.userData.area,\n        address: this.userData.address,\n        city: this.userData.city,\n        dtype: this.userData.dtype,\n        lat: this.userData.lat,\n        lng: this.userData.lng,\n      });\n    }\n\n\n    else {\n      let alert = this.alertCtrl.create({\n        title: 'Something Wrong',\n        subTitle: 'Please fill all Details.',\n        buttons: ['Dismiss']\n      });\n      alert.present();\n    }\n\n\n  }\n\n\n  // Geo Location\n\n  getgeolocation() {\n    let toast = this.toastCtrl.create({\n      message: \"Getting Your Location....!\",\n      duration: 10000,\n      position: 'bottom'\n    });\n    toast.present();\n    var options = {\n      enableHighAccuracy: true,\n      timeout: 30000,\n      maximumAge: 0,\n      frequency: 30000\n    };\n\n    let me = this;\n\n    this.geolocation.getCurrentPosition(options).then((resp) => {\n      console.log(resp.coords);\n      this.getGeoencoder(resp.coords.latitude, resp.coords.longitude);\n      me.userData.lat = resp.coords.latitude.toString();\n      me.userData.lng = resp.coords.longitude.toString();\n      let toast = this.toastCtrl.create({\n        message: \"Your Location Fetch Success..!\",\n        duration: 5000,\n        position: 'bottom'\n      });\n      toast.present();\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n  }\n\n\n  //geocoder method to fetch address from coordinates passed as arguments\n  getGeoencoder(latitude, longitude) {\n    this.nativeGeocoder.reverseGeocode(latitude, longitude, this.geoencoderOptions)\n      .then((result: NativeGeocoderReverseResult[]) => {\n        this.geoAddress = this.generateAddress(result[0]);\n        this.userData.address = this.geoAddress;\n        console.log(this.geoAddress);\n      })\n      .catch((error: any) => {\n        alert('Error getting location' + JSON.stringify(error));\n      });\n  }\n\n  //Return Comma saperated address\n  generateAddress(addressObj) {\n    let obj = [];\n    let address = \"\";\n    for (let key in addressObj) {\n      obj.push(addressObj[key]);\n    }\n    obj.reverse();\n    for (let val in obj) {\n      if (obj[val].length)\n        address += obj[val] + ', ';\n    }\n    return address.slice(0, -2);\n  }\n  openUrl(url){\n    window.open(url)\n    // let parseUrl:any =  this.sanitizer.bypassSecurityTrustResourceUrl(url)\n    // window.open(parseUrl);\n  }\n\n  onclickHome() {\n    this.navCtrl.setRoot('HomePage');\n  }\n\n  openContact() {\n    this.navCtrl.push('ContactPage');\n  }\n\n  openfeedback() {\n    this.navCtrl.push('FeedbackPage');\n  }\n  openterms() {\n    this.navCtrl.push('TermsPage');\n  }\n\n  openprivacy() {\n    this.navCtrl.push('TermsPage');\n  }\n  \n  checkLogin() {\n    if (localStorage.getItem('userData')) {\n      return true;\n    }\n    return false;\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/address/address.ts"],"sourceRoot":""}